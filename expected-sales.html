<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <!-- 공통 head js,css 정의 -->
  <head th:replace="~{/fragments/head :: head}">
    <link
      rel="stylesheet"
      type="text/css"
      href="./js/lib/leaflet/leaflet.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="./js/lib/leaflet/control/L.Control.Zoomslider.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="./js/lib/leaflet/control/Leaflet.draw/leaflet.draw.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="./js/lib/leaflet/control/measure_control/leaflet.measurecontrol.css"
    />

    <script src="./js/lib/jquery-3.7.1.min.js"></script>
    <script src="./js/lib/leaflet/leaflet.js"></script>
    <script src="./js/lib/leaflet/control/L.Control.Zoomslider.js"></script>
    <script src="./js/lib/leaflet/control/Leaflet.draw/leaflet.draw.js"></script>
    <script src="./js/lib/leaflet/control/measure_control/leaflet.measurecontrol.min.js"></script>
    <script src="./js/lib/leaflet/control/L.openmate_measure.js"></script>
    <script src="./js/lib/leaflet/control/leaflet-arrowheads/src/leaflet-arrowheads.js"></script>
    <script src="./js/lib/leaflet/control/leaflet-arrowheads/src/leaflet-geometryutil.js"></script>
    <script src="./js/lib/proj4/proj4.js"></script>
    <script src="./js/lib/proj4/proj4leaflet.js"></script>

    <script src="./js/lib/common.js"></script>
    <script src="./js/lib/map.js"></script>
    <script src="./js/lib/event.js"></script>

    <meta charset="UTF-8" />
    <title>Li-ON</title>

    <!-- 추가된 meta / css / js -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="./css/reboot.css" />
    <link rel="stylesheet" type="text/css" href="./css/map.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"
    />

    <script src="./js/lib/chart.min.js"></script>
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"
    ></script>
    <!-- // 추가된 meta / css / js -->
  </head>

  <!-- 주요 naming
    ###  메뉴 ###
    내주변 경쟁 매장 매출현황 - competitor-sales
    내 주변 경쟁매장 영향권역 - competitor-influence
    내 매장 주변현황 - store-surroundings
    개업 시 예상 매출 - expected-sales
    
    ### 페이지 내 요소 ###
    검색영역 - search-area
    지도 POI - poiIco
    개업 시 예상 매출 검색 모달 - expected-sales-search
    리포트 모달 - store-report
    매물정보 모달 - rents-info
    매물정보 상세 모달 - rent-detail
    매장정보 모달 - shops-info
  -->

  <body class="expected-sales">
    <!-- Header Area -->
    <header>
      <div class="header-inner">
        <button type="button" class="btn-prev"><span>이전</span></button>
        <h2>개업 시 예상 매출</h2>
        <button type="button" class="btn-menu"><span>메뉴</span></button>
        <button type="button" class="btn-close off"><span>닫기</span></button>
      </div>
      <div class="menu-list">
        <p class="tit">내 주변 현황을 한눈에 빠르게 !</p>
        <button type="button" onclick="location.href='./'">
          내 주변 경쟁매장 매출현황
        </button>
        <button
          type="button"
          onclick="location.href='./competitor-influence.html'"
        >
          내 주변 경쟁매장 영향권역
        </button>
        <button
          type="button"
          onclick="location.href='./store-surroundings.html'"
        >
          내 매장 주변현황
        </button>
        <button
          type="button"
          onclick="location.href='./expected-sales.html'"
          class="active"
        >
          개업 시 예상매출
        </button>
      </div>
    </header>
    <!-- // Header Area  -->

    <!-- 검색 영역 -->
    <div class="search-area">
      <div class="search-box">
        <input
          type="text"
          placeholder="개업을 원하시는 지역명을 먼저 입력해주세요"
        />
        <button
          type="button"
          class="btn-modal-open btn-search"
          data-target="expected-sales-search"
        >
          검색
        </button>
      </div>
    </div>
    <!-- // 검색 영역 -->

    <!-- 개업 시 예상 매출 검색 모달 -->
    <div class="modal full expected-sales-search">
      <div class="modal-wrap">
        <div class="modal-head">
          <button type="button" class="btn-prev"><span>이전</span></button>
          <h2>개업 시 예상매출 검색</h2>
          <button type="button" class="btn-modal-close">
            <span>닫기</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="search-box">
            <input type="text" placeholder="지역을 먼저 검색해주세요." />
            <button type="button" class="btn-search">검색</button>
          </div>
          <div class="list-wrap">
            <div class="tit">지역</div>
            <ul class="region-list">
              <li>
                <input type="checkbox" id="41" name="region" />
                <label for="41"> 독립문역 </label>
              </li>
              <li>
                <input type="checkbox" id="42" name="region" />
                <label for="42"> 독립문역 1번 출구 </label>
              </li>
              <li>
                <input type="checkbox" id="43" name="region" />
                <label for="43"> 독립문역 2번 출구</label>
              </li>
              <li>
                <input type="checkbox" id="44" name="region" />
                <label for="44"> 독립문역 3번 출구</label>
              </li>
            </ul>
          </div>
          <div class="list-wrap">
            <div class="tit">업종</div>
            <div class="industry-list">
              <button class="industry-item active">
                <span>학원</span>
              </button>
              <button class="industry-item">
                <span>병/의원</span>
              </button>
              <button class="industry-item">
                <span>편의점</span>
              </button>
              <button class="industry-item">
                <span>F&B</span>
              </button>
            </div>
            <ul class="industry-sub-list">
              <li>
                <input type="checkbox" id="51" name="industry" />
                <label for="51"> 체육 </label>
              </li>
              <li>
                <input type="checkbox" id="52" name="industry" />
                <label for="52"> 영,유아 교육 </label>
              </li>
              <li>
                <input type="checkbox" id="53" name="industry" />
                <label for="53"> 초, 중, 고 교육</label>
              </li>
              <li>
                <input type="checkbox" id="54" name="industry" />
                <label for="54"> 취미 </label>
              </li>
            </ul>
          </div>
          <div class="list-wrap">
            <div class="tit">최근 검색 내역</div>
            <ul class="recent-search-list">
              <li>
                <input type="checkbox" id="61" checked />
                <label for="61"> 독립문 태권도 </label>
              </li>
              <li>
                <input type="checkbox" id="62" />
                <label for="62"> 독립문 영어 학원 </label>
              </li>
              <li>
                <input type="checkbox" id="63" />
                <label for="63"> 디지털 미디어 시티 </label>
              </li>
              <li>
                <input type="checkbox" id="64" />
                <label for="64"> 피아노 학원</label>
              </li>
            </ul>
          </div>
          <button type="button" class="btn btn-primary btn-sales-search">
            검색
          </button>
        </div>
      </div>
    </div>

    <!-- 개업 시 예상 매출 리포트 모달 -->
    <div class="store-report">
      <div class="dim"></div>
      <div class="tit">개업 시 예상매출</div>
      <button type="button" class="btn-close"></button>
      <div class="con">
        <div class="download">자세한 자료를 보시려면 다운받아주세요!</div>
        <div class="smr">
          <span class="underline">서대문역</span>의
          <span class="underline">분식업종</span>은 내 매장이 위치한 지역과
          비교한 결과 직전월 기준
          <span class="underline">평균 매출액이 21% 낮습니다.</span>
        </div>

        <!-- 기준 시점별 분식업종 매출 -->
        <section>
          <div class="tit-wrap">
            <div class="tit">기준 시점별 분식업종 매출</div>
            <div class="unit">(단위 : 만원)</div>
          </div>
          <div class="chart-wrap">
            <canvas id="chart31" style="width: 100%; height: 100%"></canvas>
          </div>
        </section>

        <!-- 내가 선택한 지역의 경쟁 매장 기준 매출 -->
        <section class="list">
          <div class="tit-wrap">
            <div class="tit">내가 선택한 지역의 경쟁 매장 기준 매출</div>
            <div class="smr">
              비교해 보시고 싶은 경쟁 매장을 5곳을 선택해주세요
            </div>
          </div>
          <ul class="check-list">
            <li class="active">
              <input type="checkbox" id="31" name="rival" />
              <label for="31">
                <div class="name">AAA매장</div>
                <div class="add">서울 종로구 자하문로 19길 36</div>
              </label>
            </li>
            <li>
              <input type="checkbox" id="32" name="rival" />
              <label for="32">
                <div class="name">BBB매장</div>
                <div class="add">
                  서울 종로구 자하문로 19길 36 자하문로 19길 36
                </div>
              </label>
            </li>
            <li>
              <input type="checkbox" id="33" name="rival" />
              <label for="33">
                <div class="name">AAA매장</div>
                <div class="add">서울 종로구 자하문로 19길 36</div>
              </label>
            </li>
            <li>
              <input type="checkbox" id="36" name="rival" />
              <label for="36">
                <div class="name">AAA매장</div>
                <div class="add">서울 종로구 자하문로 19길 36</div>
              </label>
            </li>
            <li>
              <input type="checkbox" id="34" name="rival" />
              <label for="34">
                <div class="name">AAA매장</div>
                <div class="add">서울 종로구 자하문로 19길 36</div>
              </label>
            </li>
            <li>
              <input type="checkbox" id="35" name="rival" />
              <label for="35">
                <div class="name">AAA매장</div>
                <div class="add">서울 종로구 자하문로 19길 36</div>
              </label>
            </li>
          </ul>
          <div class="chart-wrap">
            <canvas id="chart32" style="width: 100%; height: 100%"></canvas>
          </div>
          <button type="button" class="btn btn-primary btn-compare" disabled>
            경쟁점 비교하기
          </button>
        </section>

        <section>
          <div class="tit-wrap">
            <div class="tit">개업 가능한 매물정보</div>
          </div>

          <div class="rents-info-list">
            <div>
              <div class="rent-info">
                <div class="img">
                  <img src="./images/rent.png" alt="AAA빌딩" />
                </div>
                <div class="rep">
                  <div class="cate">
                    상가 · 임대
                    <div class="likes">
                      <input type="checkbox" name="" id="likes1" />
                      <label for="likes1">찜하기</label>
                    </div>
                  </div>
                  <div class="rent">월세 2,000만 / 157만</div>
                  <div class="desc">
                    대로변에 메인 상권 수익률 좋은 투자 물건
                  </div>
                </div>
                <ul class="list">
                  <li><span>권리금</span> 5,000만원</li>
                  <li><span>관리비</span> 50만원</li>
                  <li><span>평수</span> 102.48㎡[31평]</li>
                  <li><span>기타</span> 1/8층, 남동향, 주차가능(총 80대)</li>
                  <li><span>주소</span> 서울시 서대문구 홍제천 6길 29 104호</li>
                </ul>
                <button
                  type="button"
                  class="btn btn-primary btn-modal-open"
                  data-target="rent-detail"
                >
                  자세히보기
                </button>
              </div>
            </div>
            <div>
              <div class="rent-info">
                <div class="img">
                  <img src="./images/rent.png" alt="AAA빌딩" />
                </div>
                <div class="rep">
                  <div class="cate">
                    상가 · 임대
                    <div class="likes">
                      <input type="checkbox" name="" id="likes2" />
                      <label for="likes2">찜하기</label>
                    </div>
                  </div>
                  <div class="rent">월세 3,000만 / 157만</div>
                  <div class="desc">
                    대로변에 메인 상권 수익률 좋은 투자 물건
                  </div>
                </div>
                <ul class="list">
                  <li><span>권리금</span> 5,000만원</li>
                  <li><span>관리비</span> 50만원</li>
                  <li><span>평수</span> 102.48㎡[31평]</li>
                  <li><span>기타</span> 1/8층, 남동향, 주차가능(총 80대)</li>
                  <li><span>주소</span> 서울시 서대문구 홍제천 6길 29 104호</li>
                </ul>
                <button
                  type="button"
                  class="btn btn-primary btn-modal-open"
                  data-target="rent-detail"
                >
                  자세히보기
                </button>
              </div>
            </div>
            <div>
              <div class="rent-info">
                <div class="img">
                  <img src="./images/rent.png" alt="AAA빌딩" />
                </div>
                <div class="rep">
                  <div class="cate">
                    상가 · 임대
                    <div class="likes">
                      <input type="checkbox" name="" id="likes3" />
                      <label for="likes3">찜하기</label>
                    </div>
                  </div>
                  <div class="rent">월세 4,000만 / 157만</div>
                  <div class="desc">
                    대로변에 메인 상권 수익률 좋은 투자 물건
                  </div>
                </div>
                <ul class="list">
                  <li><span>권리금</span> 5,000만원</li>
                  <li><span>관리비</span> 50만원</li>
                  <li><span>평수</span> 102.48㎡[31평]</li>
                  <li><span>기타</span> 1/8층, 남동향, 주차가능(총 80대)</li>
                  <li><span>주소</span> 서울시 서대문구 홍제천 6길 29 104호</li>
                </ul>
                <button
                  type="button"
                  class="btn btn-primary btn-modal-open"
                  data-target="rent-detail"
                >
                  자세히보기
                </button>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>

    <!-- 찜한 매물이 없는 경우 모달-->
    <div class="modal likes-nodata noti">
      <div class="modal-wrap">
        <div class="modal-body">
          <div class="tit">
            찜한 매물이 없습니다. <br />
            관심 매물을 찜 해주세요.
          </div>
          <img src="./images/likes-nodata.png" alt="찜한 매물이 없습니다." />
          <div class="smr">
            * 찜한 매물 중 매매가 체결 되거나 <br />
            &nbsp; &nbsp;허위매물로 인정되면 찜 리스트에서 <br />
            &nbsp; &nbsp;자동으로 삭제됩니다.
          </div>
        </div>
        <div class="modal-foot">
          <button type="button" class="btn btn-primary btn-modal-close">
            닫기
          </button>
        </div>
      </div>
    </div>

    <!-- 매물정보 모달-->
    <div class="modal rents-info">
      <div class="modal-wrap">
        <div class="modal-body">
          <div class="rents-info-list">
            <div>
              <div class="rent-info">
                <div class="img">
                  <img src="./images/rent.png" alt="AAA빌딩" />
                </div>
                <div class="rep">
                  <div class="cate">
                    상가 · 임대
                    <div class="likes">
                      <input type="checkbox" name="" id="likes1" />
                      <label for="likes1">찜하기</label>
                    </div>
                  </div>
                  <div class="rent">월세 2,000만 / 157만</div>
                  <div class="desc">
                    대로변에 메인 상권 수익률 좋은 투자 물건
                  </div>
                </div>
                <ul class="list">
                  <li><span>권리금</span> 5,000만원</li>
                  <li><span>관리비</span> 50만원</li>
                  <li><span>평수</span> 102.48㎡[31평]</li>
                  <li><span>기타</span> 1/8층, 남동향, 주차가능(총 80대)</li>
                  <li><span>주소</span> 서울시 서대문구 홍제천 6길 29 104호</li>
                </ul>
                <div class="etc">
                  * 찜한 매물 중 매매가 체결 되거나 허위매물로 <br />
                  &nbsp; &nbsp;인정되면 찜 리스트에서 자동으로 삭제됩니다.
                </div>
              </div>
            </div>
            <div>
              <div class="rent-info">
                <div class="img">
                  <img src="./images/rent.png" alt="AAA빌딩" />
                </div>
                <div class="rep">
                  <div class="cate">
                    상가 · 임대
                    <div class="likes">
                      <input type="checkbox" name="" id="likes2" />
                      <label for="likes2">찜하기</label>
                    </div>
                  </div>
                  <div class="rent">월세 3,000만 / 157만</div>
                  <div class="desc">
                    대로변에 메인 상권 수익률 좋은 투자 물건
                  </div>
                </div>
                <ul class="list">
                  <li><span>권리금</span> 5,000만원</li>
                  <li><span>관리비</span> 50만원</li>
                  <li><span>평수</span> 102.48㎡[31평]</li>
                  <li><span>기타</span> 1/8층, 남동향, 주차가능(총 80대)</li>
                  <li><span>주소</span> 서울시 서대문구 홍제천 6길 29 104호</li>
                </ul>
                <div class="etc">
                  * 찜한 매물 중 매매가 체결 되거나 허위매물로 <br />
                  &nbsp; &nbsp;인정되면 찜 리스트에서 자동으로 삭제됩니다.
                </div>
              </div>
            </div>
            <div>
              <div class="rent-info">
                <div class="img">
                  <img src="./images/rent.png" alt="AAA빌딩" />
                </div>
                <div class="rep">
                  <div class="cate">
                    상가 · 임대
                    <div class="likes">
                      <input type="checkbox" name="" id="likes3" />
                      <label for="likes3">찜하기</label>
                    </div>
                  </div>
                  <div class="rent">월세 4,000만 / 157만</div>
                  <div class="desc">
                    대로변에 메인 상권 수익률 좋은 투자 물건
                  </div>
                </div>
                <ul class="list">
                  <li><span>권리금</span> 5,000만원</li>
                  <li><span>관리비</span> 50만원</li>
                  <li><span>평수</span> 102.48㎡[31평]</li>
                  <li><span>기타</span> 1/8층, 남동향, 주차가능(총 80대)</li>
                  <li><span>주소</span> 서울시 서대문구 홍제천 6길 29 104호</li>
                </ul>
                <div class="etc">
                  * 찜한 매물 중 매매가 체결 되거나 허위매물로 <br />
                  &nbsp; &nbsp;인정되면 찜 리스트에서 자동으로 삭제됩니다.
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-foot">
          <button type="button" class="btn btn-default btn-modal-close">
            닫기
          </button>
          <button
            type="button"
            class="btn btn-primary btn-modal-open"
            data-target="rent-detail"
          >
            자세히보기
          </button>
        </div>
      </div>
    </div>

    <!-- 매물정보 상세 모달-->
    <div class="modal full rent-detail">
      <div class="modal-wrap">
        <div class="modal-head">
          <button type="button" class="btn-prev"><span>이전</span></button>
          <h2>매물정보 상세보기</h2>
          <button type="button" class="btn-modal-close">
            <span>닫기</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="rent-info">
            <div class="rent-img">
              <div class="img">
                <div>
                  <img src="./images/rent.png" alt="AAA빌딩" />
                </div>
                <div>
                  <img src="./images/rent.png" alt="AAA빌딩" />
                </div>
                <div>
                  <img src="./images/rent.png" alt="AAA빌딩" />
                </div>
                <div>
                  <img src="./images/rent.png" alt="AAA빌딩" />
                </div>
              </div>
              <div class="slider-counter">1 / 4</div>
            </div>
            <div class="rep">
              <div class="cate">
                상가 · 임대
                <div class="likes">
                  <input type="checkbox" name="" id="likes4" />
                  <label for="likes4">찜하기</label>
                </div>
              </div>
              <div class="rent">월세 2,000만 / 157만</div>
              <div class="desc">대로변에 메인 상권 수익률 좋은 투자 물건</div>
            </div>
            <ul class="list">
              <li><span>권리금</span> 5,000만원</li>
              <li><span>관리비</span> 50만원</li>
              <li><span>평수</span> 102.48㎡[31평]</li>
              <li><span>기타</span> 1/8층, 남동향, 주차가능(총 80대)</li>
              <li><span>주소</span> 서울시 서대문구 홍제천 6길 29 104호</li>
            </ul>
            <div class="tit">기타정보</div>
            <ul class="list">
              <li><span>매물 ID</span> 1234</li>
              <li><span>현재업종</span> 음식점</li>
              <li><span>제한업종</span> 학원</li>
              <li><span>인허가 업종</span> 업종A, 업종B 등</li>
              <li><span>난방(방식/연료)</span> 개별난방/전기</li>
              <li><span>입주가능일</span> 날짜 또는 즉시</li>
              <li><span>사용승인일</span> 1998.02.24</li>
              <li><span>건출물용도</span> 제1종 근린생활시설</li>
            </ul>
            <div class="tit">주변정보</div>
            <ul class="list">
              <li><span>학교수</span> 초등학교 2개, 중고교 2개, 유치원 1개</li>
              <li><span>대중교통</span> ooo역(분당선)</li>
              <li><span>병의원시설</span> ooo변원, ooo약국</li>
              <li><span>편의시설</span> ooo마트</li>
              <li><span>공원시설</span> ooo공원</li>
            </ul>
            <div class="tit">건물대장정보</div>
            <ul class="list">
              <li><span>주용도</span> 판매시설</li>
              <li><span>지역</span> 중심상업지역</li>
              <li><span>구역</span> 제1종지구단위계획구역</li>
              <li><span>건축면적</span> 1956.4㎡</li>
              <li><span>주차장</span> 총 163식</li>
              <li><span>엘레베이터</span> 총 2대</li>
              <li><span>총 호수</span> 89호</li>
              <li><span>사용승인일</span> 2001.01</li>
              <li><span>층정보</span> 지하 4층/지상 8층</li>
            </ul>
            <div class="tit">중개사 정보</div>
            <div class="list">
              <div class="realtor-card">
                <div class="office-name">오픈메이트공인중개사사무소</div>
                <div class="photo"></div>
                <ul class="details">
                  <li>대표 : 홍길동</li>
                  <li>등록번호 : 11680-2019-00148</li>
                  <li>대표번호 : 1599-1234</li>
                  <li>경기 성남시 분당구 정자동 25-1</li>
                  <li>보유 매물건수 : 215</li>
                </ul>
              </div>
            </div>
            <div class="tit">중개보수</div>
            <ul class="list">
              <li><span>중개보수</span> 최대 180만원(VAT 별도)</li>
              <li>
                <span
                  >상한요율<button type="button" class="btn-info">
                    ?
                  </button></span
                >
                0.9%
              </li>
            </ul>
          </div>
        </div>
        <div class="modal-foot">
          <button type="button" class="btn btn-default btn-close">닫기</button>
          <button type="button" class="btn btn-primary">허위매물신고</button>
        </div>
      </div>
    </div>

    <!-- 매장정보 리스트 모달-->
    <div class="modal shops-info">
      <div class="modal-wrap">
        <div class="modal-body">
          <div class="shops-info-list">
            <div class="tit">매장 리스트</div>
            <ul class="list">
              <li>
                <span class="name">AAA 매장</span>
                <span class="high">+28%</span>
              </li>
              <li><span>BBB 매장</span> <span class="high">+25%</span></li>
              <li>
                <span>아자차카타 매장</span> <span class="high">+23%</span>
              </li>
              <li><span>가나다가 마</span> <span class="low">-10%</span></li>
              <li>
                <span class="name"
                  >안녕하세요 저는 긴 매장명을 가진 매장입니다.</span
                >
                <span class="low">-2%</span>
              </li>
            </ul>
          </div>
        </div>
        <div class="modal-foot">
          <button type="button" class="btn btn-primary btn-modal-close">
            닫기
          </button>
        </div>
      </div>
    </div>

    <!-- 개업 시 예상 매출 POI -->
    <div
      class="poiIco my-shop"
      style="left: 50%; top: 50%; transform: translate(-50%, -50%)"
    >
      <span class="radius"></span>
      <i class="ico-poi"></i>
      <div class="info-box">
        <span class="name">서대문역</span>
        <button
          type="button"
          class="btn-detail btn-modal-open"
          data-target="store-report"
          style="display: none"
        >
          상세보기
        </button>
      </div>
    </div>
    <div class="poiIco low-shop" style="left: 50px; top: 170px">
      <div class="info-box">
        <button
          type="button"
          class="name btn-modal-open"
          data-target="rents-info"
        >
          AAA 건물명
        </button>
        <button
          type="button"
          class="multi btn-modal-open"
          data-target="rents-info"
        >
          <small>+</small>5
        </button>
      </div>
    </div>
    <div
      class="poiIco high-shop"
      style="right: 50px; bottom: 230px; display: none"
    >
      <div class="info-box">
        <span class="name">bbb 매장명</span>
        <button
          type="button"
          class="multi btn-modal-open"
          data-target="shops-info"
        >
          <small>+</small>5
        </button>
      </div>
    </div>
    <div
      class="poiIco high-shop"
      style="right: 50px; top: 170px; display: none"
    >
      <div class="info-box">
        <span class="name">ccc 매장명</span>
      </div>
    </div>
    <!-- 알림 모달 -->
    <div class="modal noti-modal noti">
      <div class="modal-wrap">
        <div class="modal-body"></div>
        <div class="modal-foot">
          <button type="button" class="btn btn-primary btn-modal-close">
            확인
          </button>
        </div>
      </div>
    </div>

    <!-- Bottom Area  -->
    <div class="bottom-area">
      <!-- 내가 찜한 매물 보기 -->
      <button
        type="button"
        class="btn-likes btn-modal-open"
        data-target="likes-nodata"
      >
        <span>내가 찜한 매물 보기</span>
      </button>

      <!-- 현재위치 -->
      <button type="button" class="btn-location">
        <span>현재위치</span>
      </button>

      <button type="button" class="swipe-ctr"></button>
      <div class="bottom-area-inner">
        <div class="myshops">
          <div class="name">신촌매장</div>
          <div class="name">선능매장</div>
          <div class="name">삼성매장</div>
        </div>
        <ul class="legend">
          <li class="my">
            <input type="checkbox" id="01" checked />
            <label for="01"> 현위치 </label>
          </li>
          <li class="high">
            <input type="checkbox" id="02" disabled />
            <label for="02"> 동종업종매장 </label>
          </li>
          <li class="low">
            <input type="checkbox" id="03" checked />
            <label for="03"> 개업가능지점 </label>
          </li>
        </ul>
        <div class="smr">
          · 반경은 내 가게 기준
          <span class="radius-wrap">
            <button type="button" class="btn-dropdown">500m</button>
            <div class="dropdown-content">
              <button type="button">100m</button>
              <button type="button">200m</button>
              <button type="button">300m</button>
              <button type="button">400m</button>
              <button type="button">500m</button>
            </div>
          </span>
          입니다.
        </div>
      </div>
    </div>
    <!-- // Button Area  -->

    <!-- Map Area -->
    <div id="map" class="mapArea"></div>
    <!-- //Map Area -->
    <script>
      _MAP.init();

      $(function () {
        //상단메뉴 열기 닫기
        $("header").click(function (event) {
          const isMenuButton = $(event.target).closest(".btn-menu").length > 0;
          const isCloseButton =
            $(event.target).closest(".btn-close").length > 0;
          const isHeaderInnerOrMenuList =
            $(event.target).closest(".header-inner, .menu-list").length > 0;

          if (isMenuButton) {
            $("header").addClass("open");
            $("header .btn-close").removeClass("off");
            $("header .btn-menu").addClass("off");
          } else if (isCloseButton || !isHeaderInnerOrMenuList) {
            $("header").removeClass("open");
            $("header .btn-close").addClass("off");
            $("header .btn-menu").removeClass("off");
          }
        });

        //모달 열기(공통)
        $(".btn-modal-open").click(function () {
          var targetClass = $(this).data("target");
          $("." + targetClass).addClass("open");

          if (targetClass === "rents-info") {
            // 렌트 리스트 슬라이드
            $(".rents-info .rents-info-list").slick({
              dots: false,
              slidesToShow: 1,
              arrows: true,
            });
          } else if (targetClass === "store-report") {
            // 리포트내 렌트 리스트 슬라이드
            $(".store-report .rents-info-list").slick({
              dots: false,
              slidesToShow: 1,
              arrows: false,
              variableWidth: true, // 슬라이드의 가변 너비를 허용
            });
          } else if (targetClass === "rent-detail") {
            const $slider = $(".rent-detail .rent-info .img");
            const $counter = $(".rent-detail .slider-counter");
            // 렌트 상세 이미지슬라이드
            $slider.slick({
              dots: false,
              slidesToShow: 1,
              arrows: true,
            });
            $slider.on("afterChange", function (event, slick, currentSlide) {
              const currentIndex = currentSlide + 1; // 현재 슬라이드 번호 (1부터 시작)
              const totalSlides = slick.slideCount; // 총 슬라이드 개수
              $counter.text(`${currentIndex} / ${totalSlides}`);
            });
            // 초기 넘버링 설정
            $slider.on("init", function (event, slick) {
              const totalSlides = slick.slideCount;
              $counter.text(`1 / ${totalSlides}`);
            });
          }
        });

        //모달 닫기
        $(".btn-modal-close").click(function () {
          $(this).closest(".modal").removeClass("open");
        });

        // 내 매장 리스트 슬라이드
        $(".myshops").slick({
          dots: false,
          slidesToShow: 1,
          arrows: true,
        });

        // 반경 선택 드롭다운
        $(".btn-dropdown").on("click", function () {
          $(".dropdown-content").toggleClass("show");
        });

        $(window).on("click", function (event) {
          if (!$(event.target).closest(".btn-dropdown").length) {
            $(".dropdown-content").removeClass("show");
          }
        });

        // 하단 touch swipe
        let startY = 0;

        $(".swipe-ctr").on("touchstart", function (e) {
          startY = e.originalEvent.touches[0].clientY;
        });

        $(".swipe-ctr").on("touchmove", function (e) {
          const currentY = e.originalEvent.touches[0].clientY;
          const diffY = currentY - startY;
          const conWrapHeight = $(".swipe-ctr")
            .siblings(".bottom-area-inner")
            .height();

          if (diffY < -50) {
            // 버튼을 일정한 거리 이상 위로 드래그했을 때
            $(".swipe-ctr")
              .siblings(".bottom-area-inner")
              .css({ "max-height": "500px" });
          } else if (diffY > 50) {
            // 버튼을 일정한 거리 이상 아래로 드래그했을 때
            $(".swipe-ctr")
              .siblings(".bottom-area-inner")
              .css({ "max-height": "0" });
          }
        });

        //  disabled 상태인 동종업종 매장 클릭 시 알림
        $("label[for]").click(function (event) {
          var targetCheckbox = $("#" + $(this).attr("for"));
          if (targetCheckbox.prop("disabled")) {
            event.preventDefault();
            var msgTit = `
            개업을 원하시는<br>
            경쟁매장을 함께 보시려면<br>
            지역과 업종을 검색해주세요.
            `;
            $(".noti-modal .modal-body").html(
              '<div class="tit">' + msgTit + "</div>"
            );
            $(".noti-modal").addClass("open");
          }
        });

        //리포트 닫기
        $(".store-report .btn-close").click(function () {
          $(this).closest(".store-report").removeClass("open");
          $(".btn-compare").hide();
        });

        //리포트 : 위치에 따른 경쟁매장 비교하기 버튼 추가/제거
        $(".con").each(function () {
          const con = $(this);
          const btnCompare = con.find(".btn-compare");
          const checkList = con.find(".list");

          con.on("scroll", function () {
            const scrollTop = con.scrollTop();
            const conHeight = con.height() - 100;
            const scrollHeight = con[0].scrollHeight;
            const checkListOffset = checkList.position().top;
            const checkListHeight = checkList.outerHeight() - 230;

            btnCompare.toggle(
              checkListOffset < conHeight &&
                checkListOffset + checkListHeight > 0
            );

            checkList.toggleClass("end", scrollTop + conHeight >= scrollHeight);
          });
        });

        //리포트 : 경쟁매장 비교하기 버튼 클릭시 차트와 리스트 토글
        $(".btn-compare").click(function () {
          const checkList = $(this).closest("section").find(".check-list");
          const chartWrap = $(this).closest("section").find(".chart-wrap");

          if ($(this).text() === "다시 비교하기") {
            checkList.show();
            chartWrap.hide();
            $(this).text("경쟁점 비교하기");
          } else {
            checkList.hide();
            chartWrap.show();
            $(this).text("다시 비교하기");
          }
        });

        //리포트 : 경쟁매장 비교하기 버튼 체크 상태에 따라 활성화
        $("section").each(function () {
          const checkboxes = $(this).find('.check-list input[type="checkbox"]');
          const compareButton = $(this).find(".btn-compare");
          function updateButtonState() {
            const isChecked = checkboxes.is(":checked");
            compareButton.prop("disabled", !isChecked);
          }
          checkboxes.on("change", updateButtonState);
        });

        //개업시 예상매출 검색 : 모달내 체크박스 상태에 따라 open-btn 클래스 추가/제거
        // open-btn 클래스 추가시 하단 검색 버튼 활성화 및 컨텐츠 하단에 검색 버튼 영역 만큼 여백 추가
        function updateOpenBtnClass() {
          const checkboxes = $(".expected-sales-search input[type='checkbox']");
          const isChecked = checkboxes.is(":checked");
          $(".expected-sales-search").toggleClass("open-btn", isChecked);
        }

        //개업시 예상매출 검색 : 모달내 체크박스 초기 상태 업데이트
        updateOpenBtnClass();

        //개업시 예상매출 검색 : 모달내 체크박스 상태 변경 시 업데이트
        $(".expected-sales-search input[type='checkbox']").change(
          updateOpenBtnClass
        );

        //하단 체크박스 상태에 따라 지도 내 POI 요소를 활성화/비활성화
        $(".legend input[type='checkbox']").change(function () {
          const isCheckedId = $(this).closest("li").attr("class");
          $(".poiIco." + isCheckedId + "-shop").toggle($(this).is(":checked"));
        });

        //개업시 예상매출 검색 : 하단 검색 버튼 클릭 시 알림
        $(".btn-sales-search").click(function () {
          const isCheckedRegion = $("input[name='region']").is(":checked");
          const isCheckedIndustry = $("input[name='industry']").is(":checked");
          if (!isCheckedRegion) {
            notiModal("지역을 선택해주세요.");
          } else if (!isCheckedIndustry) {
            notiModal("업종을 선택해주세요.");
          } else {
            $(".btn-detail").css("display", "inline-block");
            $(".legend input[type='checkbox']").prop("disabled", false);
            $(this).closest(".modal").removeClass("open");
          }
        });

        // 찜하기 체크박스 변경 시 알림
        $("[id*='likes']").change(function () {
          if ($(this).is(":checked")) {
            notiModal(`관심 매물로<br>찜하였습니다.`);
          } else {
            notiModal(`관심 매물 찜이<br>취소되었습니다.`);
          }
        });

        // 리포트내 경쟁매장 5개 초과 시 알림
        $("input[name='rival']").change(function () {
          const checkedCount = $("input[name='rival']:checked").length;
          if (checkedCount > 5) {
            notiModal(`경쟁점은 5곳까지 <br>선택가능합니다.`);
            $(this).prop("checked", false);
          }
        });
      });

      // 알림 모달
      function notiModal(message) {
        $(".noti-modal .modal-body").html(
          '<div class="tit">' + message + "</div>"
        );
        $(".noti-modal").addClass("open");
      }

      ///////////////////////////// chart /////////////////////////////

      document.addEventListener("DOMContentLoaded", function () {
        // 내 주변 경쟁 매장 기준 시점별 매출
        var ctx31 = document.getElementById("chart31").getContext("2d");
        var chart31 = new Chart(ctx31, {
          type: "bar",
          data: {
            labels: ["내 매장", "AAA", "BBB", "CCC", "DDD"],
            datasets: [
              {
                data: [1000, 1700, 1600, 600, 800],
                backgroundColor: [
                  "#0B1D59", // 내 매장 색상
                  "#d9d9d9",
                  "#d9d9d9",
                  "#d9d9d9",
                  "#d9d9d9",
                ],
                borderRadius: {
                  topLeft: 50,
                  topRight: 50,
                  bottomLeft: 0,
                  bottomRight: 0,
                },
                borderSkipped: false,
                barThickness: 20,
              },
            ],
          },
          options: {
            plugins: {
              legend: {
                display: false, // 라벨 표시 안함
              },
            },
            scales: {
              x: {
                beginAtZero: true,
                grid: {
                  display: false, // x축 격자 비활성화
                },
                ticks: {
                  font: {
                    size: 11,
                    weight: "bold",
                  },
                },
              },
              y: {
                beginAtZero: true,
                grid: {
                  display: false, // y축 격자 비활성화
                },
                ticks: {
                  font: {
                    size: 11,
                    weight: "bold",
                  },
                },
              },
            },
          },
        });
        //내가 선택한 경쟁 매장 기준 매출
        var ctx32 = document.getElementById("chart32").getContext("2d");
        var chart32 = new Chart(ctx32, {
          type: "bar",
          data: {
            labels: ["내 매장", "AAA", "BBB", "CCC"],
            datasets: [
              {
                data: [1000, 1700, 1600, 600],
                backgroundColor: [
                  "#0B1D59", // 내 매장 색상
                  "#d9d9d9",
                  "#d9d9d9",
                  "#d9d9d9",
                ],
                borderRadius: {
                  topLeft: 50,
                  topRight: 50,
                  bottomLeft: 0,
                  bottomRight: 0,
                },
                borderSkipped: false,
                barThickness: 20,
              },
            ],
          },
          options: {
            plugins: {
              legend: {
                display: false, // 라벨 표시 안함
              },
            },
            scales: {
              x: {
                beginAtZero: true,
                grid: {
                  display: false, // x축 격자 비활성화
                },
                ticks: {
                  font: {
                    size: 11,
                    weight: "bold",
                  },
                },
              },
              y: {
                beginAtZero: true,
                grid: {
                  display: false, // y축 격자 비활성화
                },
                ticks: {
                  font: {
                    size: 11,
                    weight: "bold",
                  },
                },
              },
            },
          },
        });
      });
    </script>
  </body>
</html>
